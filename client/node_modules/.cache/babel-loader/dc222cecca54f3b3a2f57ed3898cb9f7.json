{"ast":null,"code":"import _classCallCheck from \"/Users/Joseph/workspace/hackathons/autoox/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Joseph/workspace/hackathons/autoox/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Joseph/workspace/hackathons/autoox/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Joseph/workspace/hackathons/autoox/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Joseph/workspace/hackathons/autoox/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/Joseph/workspace/hackathons/autoox/client/src/App.js\";\nimport React, { Component } from 'react';\nimport Highcharts from 'highcharts';\nimport { HighchartsChart, CHart, withHighcharts, XAxis, YAxis, Title, Legend, LineSeries } from 'react-jsx-highcharts';\nimport io from 'socket.io-client';\nimport ReactHighCharts from 'react-highcharts';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n\n    _this.createConnection = function () {\n      _this.socket = io(_this.state.endpoint);\n\n      _this.socket.on('data', function (data) {\n        data = parseInt(data.slice(0, -1));\n\n        _this.addData(data);\n\n        console.log(data); // let chart = this.refs.chart.getChart();\n        // let series = chart.series[0];\n        // let shift = series.data.length > 20;\n        //\n        // chart.series[0].addPoint(data, true, shift);\n      });\n    };\n\n    _this.addData = function (data) {\n      var newPulseOx = _this.state.pulseOx.concat(data);\n\n      if (_this.state.pulseOx.length > 30) {\n        newPulseOx = newPulseOx.slice(-30);\n      }\n\n      _this.setState({\n        pulseOx: newPulseOx\n      });\n\n      _this.changeBackgroundColor();\n    };\n\n    _this.changeBackgroundColor = function () {\n      var pulseOx = _this.state.pulseOx;\n\n      if (pulseOx.pop() < 88 || pulseOx.pop() > 92) {\n        _this.setState({\n          color: '#da3749'\n        });\n      } else {\n        _this.setState({\n          color: '#afd4ff'\n        });\n      }\n    };\n\n    _this.state = {\n      endpoint: \"http://localhost:5000\",\n      pulseOx: [],\n      color: '#afd4ff'\n    };\n\n    _this.createConnection();\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          pulseOx = _this$state.pulseOx,\n          color = _this$state.color; // console.log(pulseOx);\n      // const config = {\n      //   chart: {\n      //     type: 'spline',\n      //     height: '400px',\n      //     animation: {\n      //       duration: 2000,\n      //       easing: 'easeInBounce'\n      //     }\n      //   },\n      //   xAxis: {\n      //     categories: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n      //   },\n      //   yAxis: {\n      //     title: {\n      //       text: \"Oxygen saturation\"\n      //     }\n      //   },\n      //   series: [{\n      //     data: []\n      //   }],\n      //   plotOptions: {\n      //     series: {\n      //       animation: {\n      //         duration: 500\n      //       }\n      //     }\n      //   }\n      // };\n\n      return React.createElement(\"div\", {\n        style: {\n          textAlign: 'center',\n          background: color\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        style: {\n          marginTop: '10px',\n          fontSize: '80px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"AutoOx\"), React.createElement(\"div\", {\n        style: config,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(HighchartsChart, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(XAxis, {\n        type: \"datetime\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(XAxis.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Time\")), React.createElement(YAxis, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(YAxis.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"Oxygen Saturation\"), React.createElement(LineSeries, {\n        data: pulseOx,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      })))), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"Current pulse oximetry readings: \", pulseOx.length === 0 ? 0 : pulseOx[pulseOx.length - 1], \"%\"));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nvar config = {\n  border: '2px solid #afaeaf',\n  boxShadow: '0px 5px 20px 0px #868387',\n  margin: '30px' // padding: '20px'\n\n};\nexport default withHighcharts(App, Highcharts);","map":{"version":3,"sources":["/Users/Joseph/workspace/hackathons/autoox/client/src/App.js"],"names":["React","Component","Highcharts","HighchartsChart","CHart","withHighcharts","XAxis","YAxis","Title","Legend","LineSeries","io","ReactHighCharts","App","createConnection","socket","state","endpoint","on","data","parseInt","slice","addData","console","log","newPulseOx","pulseOx","concat","length","setState","changeBackgroundColor","pop","color","textAlign","background","marginTop","fontSize","config","border","boxShadow","margin"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Highcharts from 'highcharts';\nimport { HighchartsChart, CHart, withHighcharts, XAxis, YAxis, Title, Legend, LineSeries } from 'react-jsx-highcharts';\nimport io from 'socket.io-client';\nimport ReactHighCharts from 'react-highcharts';\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      endpoint: \"http://localhost:5000\",\n      pulseOx: [],\n      color: '#afd4ff'\n    };\n\n    this.createConnection();\n  }\n\n  createConnection = () => {\n    this.socket = io(this.state.endpoint);\n\n    this.socket.on('data', data => {\n      data = parseInt(data.slice(0, -1));\n      this.addData(data);\n      console.log(data);\n      // let chart = this.refs.chart.getChart();\n      // let series = chart.series[0];\n      // let shift = series.data.length > 20;\n      //\n      // chart.series[0].addPoint(data, true, shift);\n    });\n  }\n\n  addData = data => {\n    let newPulseOx = this.state.pulseOx.concat(data);\n\n    if (this.state.pulseOx.length > 30) {\n      newPulseOx = newPulseOx.slice(-30);\n    }\n\n    this.setState({ pulseOx: newPulseOx });\n    this.changeBackgroundColor();\n  }\n\n  changeBackgroundColor = () => {\n    const { pulseOx } = this.state;\n\n    if (pulseOx.pop() < 88 || pulseOx.pop() > 92) {\n      this.setState({ color: '#da3749'});\n    } else {\n      this.setState({ color: '#afd4ff' });\n    }\n  }\n\n  render() {\n    const { pulseOx, color } = this.state;\n    // console.log(pulseOx);\n    // const config = {\n    //   chart: {\n    //     type: 'spline',\n    //     height: '400px',\n    //     animation: {\n    //       duration: 2000,\n    //       easing: 'easeInBounce'\n    //     }\n    //   },\n    //   xAxis: {\n    //     categories: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n    //   },\n    //   yAxis: {\n    //     title: {\n    //       text: \"Oxygen saturation\"\n    //     }\n    //   },\n    //   series: [{\n    //     data: []\n    //   }],\n    //   plotOptions: {\n    //     series: {\n    //       animation: {\n    //         duration: 500\n    //       }\n    //     }\n    //   }\n    // };\n\n    return (\n      <div style={{ textAlign: 'center', background: color }}>\n        <h1 style={{ marginTop: '10px', fontSize: '80px' }}>AutoOx</h1>\n        <div style={config}>\n          {/* <ReactHighCharts config={config} ref='chart'></ReactHighCharts> */}\n          <HighchartsChart>\n            <XAxis type=\"datetime\">\n              <XAxis.Title>Time</XAxis.Title>\n            </XAxis>\n\n            <YAxis>\n              <YAxis.Title>Oxygen Saturation</YAxis.Title>\n              <LineSeries data={pulseOx} />\n            </YAxis>\n          </HighchartsChart>\n        </div>\n        <h2>Current pulse oximetry readings: {pulseOx.length === 0 ? 0 : pulseOx[pulseOx.length-1]}%</h2>\n      </div>\n    );\n  }\n}\n\nconst config = {\n  border: '2px solid #afaeaf',\n  boxShadow: '0px 5px 20px 0px #868387',\n  margin: '30px',\n  // padding: '20px'\n};\n\nexport default withHighcharts(App, Highcharts);\n"]},"metadata":{},"sourceType":"module"}